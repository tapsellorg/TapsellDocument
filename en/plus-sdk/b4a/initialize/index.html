<!DOCTYPE html><html lang="fa" dir="rtl"><head><meta charset="UTF-8"><meta content="IE=edge" http-equiv="X-UA-Compatible"><meta content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" name="viewport"><meta name="description" content="Tapsell, by dominating a great extent of digital media network and giving various advertising campaigns, is capable of meeting the expectation of the most valuable brands. Additionally, by showing the advertisements to the subscribers in a smart way, we bring a long- lasting and remarkable revenue without any damage to media owners’ practical experience."><link href="/assets/images/favicons/76X76.png" rel="apple-touch-icon" sizes="152x152"><link href="/assets/images/favicons/32X32.png" rel="icon" sizes="32x32" type="image/png"><link href="/assets/images/favicons/16X16.png" rel="icon" sizes="16x16" type="image/png"><link href="/assets/images/favicons/site.webmanifest" rel="manifest"><link color="#5bbad5" href="/assets/images/favicons/safari-pinned-tab.svg" rel="mask-icon"><meta content="#da532c" name="msapplication-TileColor"><meta content="#ffffff" name="theme-color"><link href="/assets/style.css?v=1752915253&_v=1752915254286" rel="stylesheet"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.6.0/css/all.css?_v=1752915254286"><script src="https://cdn.jsdelivr.net/npm/darkreader@4.9.92/darkreader.min.js?_v=1752915254286"></script><script src="/assets/js/color-scheme.js?_v=1752915254286"></script><title>راه اندازی تپسل پلاس در B4A - Tapsell</title></head><body><header id="header"><div class="container"><div class="header-content"><div class="header-logo"><a class="logo" href="https://tapsell.ir"><img src="/assets/images/logos/logo-dark-background.png" class="logo-image" alt="Tapsell Docs"></a></div><nav class="header-nav"><ul class="main-nav"><li class="nav-item"><a href="/en/"><span>خانه</span></a></li><li class="nav-item"><a href="https://dashboard.tapsell.ir/" target="_blank"><span>داشبورد</span></a></li><li class="nav-item"><a href="https://college.tapsell.ir/" target="_blank"><span>کالج تپسل</span></a></li><li class="nav-item"><a href="https://docs.tapsell.ir/en"><span>English</span></a></li></ul></nav><div class="header-nav-btns"></div></div></div></header><main class="outer"><div class="main-searchbar"></div><div class="hits-target"></div><div class="main-body"><div class="sidebar-wrapper"><aside id="sidebar" class="sidebar"><ul class="sidebar-list"><li class="sidebar-main-item closed" data-section="تپسل-پلاس"><div class="main-item-parent"><i class="main-item-icon m-sdk mr-ltr-2"></i> <span class="main-item-text nav-span">تپسل پلاس</span> <i class="main-item-arrow picon-right-chevron"></i></div><ul class="main-item-children"><li class="child-item"><a class="" href="/en/plus-sdk/android/main" data-proofer-ignore>Android</a><ul class="child-item-children"><li class="subchild-item"><a class="" href="/en/plus-sdk/android/initialize" data-proofer-ignore>راه اندازی</a></li><li class="subchild-item"><a class="" href="/en/plus-sdk/android/rewarded-interstitial" data-proofer-ignore>آنی/جایزه‌ای</a></li><li class="subchild-item"><a class="" href="/en/plus-sdk/android/native" data-proofer-ignore>همسان</a></li><li class="subchild-item"><a class="" href="/en/plus-sdk/android/native-vid" data-proofer-ignore>ویدئوی همسان</a></li><li class="subchild-item"><a class="" href="/en/plus-sdk/android/standard" data-proofer-ignore>استاندارد</a></li><li class="subchild-item"><a class="" href="/en/plus-sdk/android/vast" data-proofer-ignore>VAST</a></li><li class="subchild-item"><a class="" href="/en/plus-sdk/android/add-adnetworks" data-proofer-ignore>شبکه‌های تبلیغاتی</a></li><li class="subchild-item"><a class="" href="/en/plus-sdk/android/adnetworks-test" data-proofer-ignore>تست</a></li><li class="subchild-item"><a class="" href="/en/faq/plus-sdk/android/" data-proofer-ignore>خطاهای فنی رایج</a></li></ul></li><li class="child-item"><a class="" href="/en/plus-sdk/unity/main" data-proofer-ignore>Unity</a><ul class="child-item-children"><li class="subchild-item"><a class="" href="/en/plus-sdk/unity/initialize-android" data-proofer-ignore>راه اندازی اندروید</a></li><li class="subchild-item"><a class="" href="/en/plus-sdk/unity/rewarded-interstitial" data-proofer-ignore>آنی/جایزه‌ای</a></li><li class="subchild-item"><a class="" href="/en/plus-sdk/unity/native" data-proofer-ignore>همسان</a></li><li class="subchild-item"><a class="" href="/en/plus-sdk/unity/standard" data-proofer-ignore>استاندارد</a></li><li class="subchild-item"><a class="" href="/en/plus-sdk/unity/add-adnetworks" data-proofer-ignore>شبکه‌های تبلیغاتی</a></li><li class="subchild-item"><a class="" href="/en/plus-sdk/unity/adnetworks-test" data-proofer-ignore>تست</a></li><li class="subchild-item"><a class="" href="/en/faq/plus-sdk/unity/" data-proofer-ignore>خطاهای فنی رایج</a></li></ul></li><li class="child-item"><a class="" href="/en/plus-sdk/flutter/main" data-proofer-ignore>Flutter</a><ul class="child-item-children"><li class="subchild-item"><a class="" href="/en/plus-sdk/flutter/initialize" data-proofer-ignore>راه اندازی</a></li><li class="subchild-item"><a class="" href="/en/plus-sdk/flutter/rewarded-interstitial" data-proofer-ignore>آنی/جایزه‌ای</a></li><li class="subchild-item"><a class="" href="/en/plus-sdk/flutter/native" data-proofer-ignore>همسان</a></li><li class="subchild-item"><a class="" href="/en/plus-sdk/flutter/standard" data-proofer-ignore>استاندارد</a></li><li class="subchild-item"><a class="" href="/en/plus-sdk/flutter/add-adnetworks" data-proofer-ignore>شبکه‌های تبلیغاتی</a></li><li class="subchild-item"><a class="" href="/en/plus-sdk/flutter/adnetworks-test" data-proofer-ignore>تست</a></li><li class="subchild-item"><a class="" href="/en/faq/plus-sdk/flutter/" data-proofer-ignore>خطاهای فنی رایج</a></li></ul></li><li class="child-item"><a class="" href="/en/plus-sdk/reactnative/main" data-proofer-ignore>React Native</a><ul class="child-item-children"><li class="subchild-item"><a class="" href="/en/plus-sdk/reactnative/initialize-android" data-proofer-ignore>راه اندازی</a></li><li class="subchild-item"><a class="" href="/en/plus-sdk/reactnative/rewarded" data-proofer-ignore>آنی/جایزه‌ای</a></li><li class="subchild-item"><a class="" href="/en/plus-sdk/reactnative/native" data-proofer-ignore>همسان</a></li><li class="subchild-item"><a class="" href="/en/plus-sdk/reactnative/standard" data-proofer-ignore>استاندارد</a></li><li class="subchild-item"><a class="" href="/en/plus-sdk/reactnative/add-adnetworks" data-proofer-ignore>شبکه‌های تبلیغاتی</a></li><li class="subchild-item"><a class="" href="/en/plus-sdk/reactnative/adnetworks-test" data-proofer-ignore>تست</a></li><li class="subchild-item"><a class="" href="/en/faq/plus-sdk/reactnative/" data-proofer-ignore>خطاهای فنی رایج</a></li></ul></li><li class="child-item"><a class="" href="/en/plus-sdk/b4a/main" data-proofer-ignore>Basic4Android</a><ul class="child-item-children"><li class="subchild-item"><a class="" href="/en/plus-sdk/b4a/initialize" data-proofer-ignore>راه اندازی</a></li><li class="subchild-item"><a class="" href="/en/plus-sdk/b4a/rewarded" data-proofer-ignore>آنی/جایزه‌ای</a></li><li class="subchild-item"><a class="" href="/en/plus-sdk/b4a/native" data-proofer-ignore>همسان</a></li><li class="subchild-item"><a class="" href="/en/plus-sdk/b4a/native-vid" data-proofer-ignore>ویدئوی همسان</a></li><li class="subchild-item"><a class="" href="/en/plus-sdk/b4a/standard" data-proofer-ignore>استاندارد</a></li><li class="subchild-item"><a class="" href="/en/plus-sdk/b4a/add-adnetworks" data-proofer-ignore>شبکه‌های تبلیغاتی</a></li><li class="subchild-item"><a class="" href="/en/plus-sdk/b4a/adnetworks-test" data-proofer-ignore>تست</a></li><li class="subchild-item"><a class="" href="/en/faq/plus-sdk/b4a/" data-proofer-ignore>خطاهای فنی رایج</a></li></ul></li></ul></li></ul><ul class="sidebar-list"><li class="sidebar-main-item closed" data-section="تپسل"><div class="main-item-parent"><i class="main-item-icon m-sdk mr-ltr-2"></i> <span class="main-item-text nav-span">تپسل</span> <i class="main-item-arrow picon-right-chevron"></i></div><ul class="main-item-children"><li class="child-item"><a class="" href="/en/tapsell-sdk/android/main" data-proofer-ignore>Android</a><ul class="child-item-children"><li class="subchild-item"><a class="" href="/en/tapsell-sdk/android/initialize" data-proofer-ignore>راه اندازی</a></li><li class="subchild-item"><a class="" href="/en/tapsell-sdk/android/rewarded-interstitial" data-proofer-ignore>جایزه‌ای/آنی</a></li><li class="subchild-item"><a class="" href="/en/tapsell-sdk/android/standard" data-proofer-ignore>بنر استاندارد</a></li><li class="subchild-item"><a class="" href="/en/tapsell-sdk/android/native" data-proofer-ignore>بنر همسان</a></li><li class="subchild-item"><a class="" href="/en/tapsell-sdk/android/vast" data-proofer-ignore>VAST</a></li></ul></li><li class="child-item"><a class="" href="/en/s2s" data-proofer-ignore>سیستم صحت سنجی</a></li></ul></li></ul><ul class="sidebar-list"><li class="sidebar-main-item closed" data-section="تبلیغ-دهنده-ها"><div class="main-item-parent"><i class="main-item-icon m-sdk mr-ltr-2"></i> <span class="main-item-text nav-span">تبلیغ دهنده‌ها</span> <i class="main-item-arrow picon-right-chevron"></i></div><ul class="main-item-children"><li class="child-item"><a class="" href="/en/advertiser/playable" data-proofer-ignore>Playable</a></li></ul></li></ul></aside></div><div class="article-container"><article><h1 class="article-title">راه اندازی تپسل پلاس در B4A</h1><div class="article-content"><ul id="toc" class="section-nav"><li class="toc-entry toc-h2"><a href="#دریافت-پکیج-تپسل-پلاس">دریافت پکیج تپسل پلاس</a></li><li class="toc-entry toc-h2"><a href="#اضافهکردن-به-b4a">اضافه‌کردن به B4A</a></li><li class="toc-entry toc-h2"><a href="#اضافهکردن-کتابخانه-به-پروژه">اضافه‌کردن کتابخانه به پروژه</a></li><li class="toc-entry toc-h2"><a href="#فعالسازی-تپسل-پلاس">فعالسازی تپسل پلاس</a><ul><li class="toc-entry toc-h3"><a href="#اضافهکردن-مانیفست">اضافه‌کردن مانیفست</a></li><li class="toc-entry toc-h3"><a href="#فعالسازی-multidex">فعالسازی MultiDex</a></li><li class="toc-entry toc-h3"><a href="#اضافهکردن-کد-initialization">اضافه‌کردن کد Initialization</a></li></ul></li><li class="toc-entry toc-h2"><a href="#اختیاری-تنظیمات-اضافه-کالبکها">(اختیاری) تنظیمات اضافه کالبک‌ها</a></li><li class="toc-entry toc-h2"><a href="#موارد-مهم">موارد مهم</a><ul><li class="toc-entry toc-h3"><a href="#تنظیمات-gdpr">تنظیمات GDPR</a></li></ul></li><li class="toc-entry toc-h2"><a href="#family-policy">Family Policy</a><ul><li class="toc-entry toc-h3"><a href="#دسترسیهای-اضافی">دسترسی‌های اضافی</a><ul><li class="toc-entry toc-h4"><a href="#پشتیبانی-از-اندروید-۱۳">پشتیبانی از اندروید ۱۳</a></li></ul></li></ul></li></ul><blockquote data-title="نکته Build پروژه" data-color="red"><p>در صورت وجود مشکل یا ابهام به <a href="/en/faq/plus-sdk/b4a/">لیست خطاهای فنی رایج</a> مراجعه کنید یا صفحه‌ی <a href="https://github.com/tapsellorg/TapsellPlusSDK-B4APlugin/issues?q=is%3Aissue">Github Issues</a> را بررسی نمایید.</p></blockquote><h2 id="دریافت-پکیج-تپسل-پلاس"><a class="anchor" href="#%D8%AF%D8%B1%DB%8C%D8%A7%D9%81%D8%AA-%D9%BE%DA%A9%DB%8C%D8%AC-%D8%AA%D9%BE%D8%B3%D9%84-%D9%BE%D9%84%D8%A7%D8%B3" aria-hidden="true"><span class="octicon octicon-link"></span></a>دریافت پکیج تپسل پلاس</h2><p>پکیج نسخه‌ی نهایی تپسل پلاس را از <a href="https://github.com/tapsellorg/TapsellPlusSDK-B4APlugin/releases/download/v2.2.0/TapsellPlusB4A-2.2.0.zip"><strong>این لینک</strong></a> دریافت کنید.</p><p><img src="https://img.shields.io/github/v/release/tapsellorg/TapsellPlusSDK-B4aPlugin?label=tapsellplus-b4a&amp;style=plastic" alt="version"></p><p>برای مشاهده‌ی تمام نسخه‌های منتشر شده به <a href="https://github.com/tapsellorg/TapsellPlusSDK-B4APlugin/releases">صفحه‌ی دانلودها</a> مراجعه کنید</p><h2 id="اضافهکردن-به-b4a"><a class="anchor" href="#%D8%A7%D8%B6%D8%A7%D9%81%D9%87%DA%A9%D8%B1%D8%AF%D9%86-%D8%A8%D9%87-b4a" aria-hidden="true"><span class="octicon octicon-link"></span></a>اضافه‌کردن به B4A</h2><blockquote data-title="ریسورس‌های پروژه" data-color="green"><ul><li>نسخه‌ی پیشنهادی B4A نسخه‌ی ۱۱.۰ می‌باشد</li><li>از ریسورس‌های پیشنهادی خود B4X برای پروژه‌ی خود استفاده کنید. (<a href="https://www.b4x.com/b4a.html">لینک</a>)</li></ul></blockquote><p>فایل دانلودی یک zip است که ابتدا آن‌را اکسترکت خواهید کرد.</p><p>محتوای فایل زیپ:</p><ul><li><code class="language-plaintext highlighter-rouge">TapsellPlusB4A.jar</code></li><li><code class="language-plaintext highlighter-rouge">TapsellPlusB4A.xml</code></li><li><code class="language-plaintext highlighter-rouge">libs/</code></li></ul><p>دو فایل TapsellPlusB4A را در پوشه‌ی Libraries برنامه‌ی B4A قرار دهید</p><p>سپس پروژه‌ی خود را باز کرده و فولدر <strong>libs</strong> را بعنوان پوشه‌ی Additional libraries به B4A معرفی کنید.</p><h2 id="اضافهکردن-کتابخانه-به-پروژه"><a class="anchor" href="#%D8%A7%D8%B6%D8%A7%D9%81%D9%87%DA%A9%D8%B1%D8%AF%D9%86-%DA%A9%D8%AA%D8%A7%D8%A8%D8%AE%D8%A7%D9%86%D9%87-%D8%A8%D9%87-%D9%BE%D8%B1%D9%88%DA%98%D9%87" aria-hidden="true"><span class="octicon octicon-link"></span></a>اضافه‌کردن کتابخانه به پروژه</h2><p>پس از اضافه‌شدن فایل‌ها به بخش <code class="language-plaintext highlighter-rouge">Libraries</code> مراجعه کرده و کتابخانه‌ی <code class="language-plaintext highlighter-rouge">TapsellPlusB4A</code> را فعال کنید.</p><blockquote data-title="رخداد خطا" data-color="orange"><p>در صورتی که هنگام فعال کردن کتابخانه پیام خطایی چاپ شد آنرا در <a href="https://github.com/tapsellorg/TapsellPlusSDK-B4APlugin/issues?q=is%3Aissue">لیست خطاهای احتمالی</a> جست جو کنید</p></blockquote><p>همچنین کتابخانه‌ی <code class="language-plaintext highlighter-rouge">OKHttp</code> را نیز فعال کنید.</p><blockquote data-title="نبود پکیج OKHttp" data-color="orange"><p>در صورتی که این کتابخانه در B4A شما موجود نیست این خطوط را را فایل پروژه‌ی خود لحاظ کنید:</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>#Region Project Attributes 
	  ' ...
    #AdditionalJar: okio-1.15.0.jar
    #AdditionalJar: okhttp-3.12.13
#End Region
</code></pre></div></div><p>در صورتی که OKHttp توسط لایبرری دیگری اضافه شده و خطای <code class="language-plaintext highlighter-rouge">Already added</code> چاپ شد، این دو خط را حذف کنید. زیرا این لایبرری‌ها توسط پکیج دیگری اضافه شده‌اند.</p></blockquote><h2 id="فعالسازی-تپسل-پلاس"><a class="anchor" href="#%D9%81%D8%B9%D8%A7%D9%84%D8%B3%D8%A7%D8%B2%DB%8C-%D8%AA%D9%BE%D8%B3%D9%84-%D9%BE%D9%84%D8%A7%D8%B3" aria-hidden="true"><span class="octicon octicon-link"></span></a>فعالسازی تپسل پلاس</h2><p>تا به این بخش این موارد بایستی انجام شده باشد:</p><ul><li>پکیج به درستی دانلود و قرارداده شده است</li><li>هنگام فعال‌کردن لایبرری خطایی رخ نمی‌دهد</li><li>بیلد‌کردن پروژه به خطا منجر نمی‌شود</li></ul><p>همچنین:</p><ul><li>اپلیکیشن در <a href="https://tapsell.ir/en/tapsellplus/">داشبورد تپسل پلاس</a> اضافه‌شود و <code class="language-plaintext highlighter-rouge">TapsellPlusAppId</code> برای استفاده کپی شده است</li></ul><p>پس از این موارد، حال هنگام فعالسازی تپسل پلاس در کد پروژه است:</p><h3 id="اضافهکردن-مانیفست"><a class="anchor" href="#%D8%A7%D8%B6%D8%A7%D9%81%D9%87%DA%A9%D8%B1%D8%AF%D9%86-%D9%85%D8%A7%D9%86%DB%8C%D9%81%D8%B3%D8%AA" aria-hidden="true"><span class="octicon octicon-link"></span></a>اضافه‌کردن مانیفست</h3><p>ابتدا به <code class="language-plaintext highlighter-rouge">Manifest Editor</code> رفته و کد زیر را اضافه کنید:</p><div class="language-vb highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">CreateResourceFromFile</span><span class="p">(</span><span class="n">Macro</span><span class="p">,</span> <span class="n">TapsellPlusB4A</span><span class="p">.</span><span class="n">Essential</span><span class="p">)</span>
</code></pre></div></div><blockquote data-title="نکته‌ی مهم در مورد مانیفست" data-color="blue"><p>مانیفست <code class="language-plaintext highlighter-rouge">TapsellPlusB4A.Essential</code> مواد ضروری برای تپسل پلاس و بدون هیچ ادنتورکی جز تپسل را اضافه می‌کند.<br>برای اضافه کردن ادنتورک‌ها بایستی مانیفست آنها را نیز اضافه کنید که در <a href="/en/plus-sdk/b4a/add-adnetworks/index.html">شبکه‌های تبلیغاتی</a> در مورد آنها خواهید خواند.</p></blockquote><h3 id="فعالسازی-multidex"><a class="anchor" href="#%D9%81%D8%B9%D8%A7%D9%84%D8%B3%D8%A7%D8%B2%DB%8C-multidex" aria-hidden="true"><span class="octicon octicon-link"></span></a>فعالسازی MultiDex</h3><p>سپس در فایل پروژه خط زیر را در <code class="language-plaintext highlighter-rouge">Region project attributes</code> قرار دهید:</p><div class="language-vb highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">#</span><span class="n">MultiDex</span><span class="p">:</span> <span class="n">true</span>
</code></pre></div></div><blockquote data-title="مثال در نمونه کد" data-color="green"><p>پیاده سازی شده‌ی این مورد در سمپل پروژه از <a href="https://github.com/tapsellorg/TapsellPlusSDK-B4ASample/blob/c3db2c060e6cf9d1627c4d4a0aaa397fb8444f23/tapsell.b4a#L25">این لینک</a> قابل دسترسی ست.</p></blockquote><h3 id="اضافهکردن-کد-initialization"><a class="anchor" href="#%D8%A7%D8%B6%D8%A7%D9%81%D9%87%DA%A9%D8%B1%D8%AF%D9%86-%DA%A9%D8%AF-initialization" aria-hidden="true"><span class="octicon octicon-link"></span></a>اضافه‌کردن کد Initialization</h3><p>در بخش <code class="language-plaintext highlighter-rouge">Sub Globals</code> این کد را اضافه کنید:</p><div class="language-vb highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">Sub</span> <span class="nf">Globals</span>
	<span class="k">Dim</span> <span class="nv">tapsellPlus</span> <span class="ow">As</span> <span class="n">TapsellPlus</span>
	<span class="k">Dim</span> <span class="nv">tapsellPlusAppId</span> <span class="ow">As</span> <span class="kt">String</span><span class="o">=</span><span class="s">"کلید تپسل پلاس"</span>
  <span class="c1">' ...</span>

<span class="k">End</span> <span class="k">Sub</span>
</code></pre></div></div><p>و بجای <code class="language-plaintext highlighter-rouge">کلید تپسل پلاس</code> کلید خود را قرار دهید</p><p>سپس در <code class="language-plaintext highlighter-rouge">Sub Activity_Create</code> نیز این کد را قرار دهید:</p><div class="language-vb highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">Sub</span> <span class="nf">Activity_Create</span><span class="p">(</span><span class="n">FirstTime</span> <span class="ow">As</span> <span class="kt">Boolean</span><span class="p">)</span>
  <span class="c1">' ...</span>

  <span class="n">tapsellPlus</span><span class="p">.</span><span class="n">Initialize</span><span class="p">(</span><span class="n">tapsellPlusAppId</span><span class="p">)</span>
<span class="k">End</span> <span class="k">Sub</span>
</code></pre></div></div><blockquote data-title="کالبک Initialization" data-color="green"><p>در صورت موفقیت آمیز بودن این پروسه بعد از چند ثانیه کالبک <code class="language-plaintext highlighter-rouge">TapsellPlus_OnSuccess</code> صدا زده می‌شود.</p></blockquote><p data-title="DebugMode برای لاگ‌های بهتر" data-color="blue">با استفاده از کد <code class="language-plaintext highlighter-rouge">tapsellPlus.SetDebugMode(3)</code> می‌توانید لاگ‌های کالبک را هنگام بروز خطا، بصورت واضح‌تر مشاهده نمایید.</p><h2 id="اختیاری-تنظیمات-اضافه-کالبکها"><a class="anchor" href="#%D8%A7%D8%AE%D8%AA%DB%8C%D8%A7%D8%B1%DB%8C-%D8%AA%D9%86%D8%B8%DB%8C%D9%85%D8%A7%D8%AA-%D8%A7%D8%B6%D8%A7%D9%81%D9%87-%DA%A9%D8%A7%D9%84%D8%A8%DA%A9%D9%87%D8%A7" aria-hidden="true"><span class="octicon octicon-link"></span></a>(اختیاری) تنظیمات اضافه کالبک‌ها</h2><blockquote data-title="نمونه پیاده سازی" data-color="green"><p>از <a href="https://github.com/tapsellorg/TapsellPlusSDK-B4ASample/blob/0ed4cf5b1ec275061b20e600a87eae47b29b1c49/tapsell.b4a#L155">این لینک</a> به پیاده سازی نمونه در گیتهاب مراجعه کنید</p></blockquote><p>هنگام درخواست تبلیغ رخدادهای مختلف به شما گزارش داده می‌شود (مانند تکمیل، بسته شدن یا خطا).<br>برای دریافت این اطلاعات بایستی کالبک‌های زیر را در برنامه اضافه کنید:</p><div class="language-vb highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">Sub</span> <span class="nf">TapsellPlus_OnSuccess</span>
	<span class="n">Log</span><span class="p">(</span><span class="s">"TapsellPlus is initialized successfully"</span><span class="p">)</span>
<span class="k">End</span> <span class="k">Sub</span>

<span class="k">Sub</span> <span class="nf">TapsellPlus_OnResponse</span><span class="p">(</span><span class="n">zoneId</span> <span class="ow">As</span> <span class="kt">String</span><span class="p">,</span> <span class="n">responseId</span> <span class="ow">As</span> <span class="kt">String</span><span class="p">)</span>
	<span class="c1">' Save the responseId - This is needed if you call request, THEN show (not requetsAndShow)</span>
	<span class="n">Log</span><span class="p">(</span><span class="s">"Requesting ad successfull. ResponseId (that must be saved) is: "</span> <span class="o">&amp;</span> <span class="n">responseId</span><span class="p">)</span>
<span class="k">End</span> <span class="k">Sub</span>

<span class="k">Sub</span> <span class="nf">TapsellPlus_OnClosed</span><span class="p">(</span><span class="n">zoneId</span> <span class="ow">As</span> <span class="kt">String</span><span class="p">,</span> <span class="n">responseId</span> <span class="ow">As</span> <span class="kt">String</span><span class="p">)</span>
	<span class="n">Log</span><span class="p">(</span><span class="s">"An Ad was close. It's responseId is: "</span> <span class="o">&amp;</span> <span class="n">responseId</span><span class="p">)</span>
<span class="k">End</span> <span class="k">Sub</span>

<span class="k">Sub</span> <span class="nf">TapsellPlus_OnOpened</span><span class="p">(</span><span class="n">zoneId</span> <span class="ow">As</span> <span class="kt">String</span><span class="p">,</span> <span class="n">responseId</span> <span class="ow">As</span> <span class="kt">String</span><span class="p">)</span>
	<span class="n">Log</span><span class="p">(</span><span class="s">"An Ad was opened. ResponseId of ad: "</span> <span class="o">&amp;</span> <span class="n">responseId</span><span class="p">)</span>
<span class="k">End</span> <span class="k">Sub</span>

<span class="k">Sub</span> <span class="nf">TapsellPlus_OnRewarded</span><span class="p">(</span><span class="n">zoneId</span> <span class="ow">As</span> <span class="kt">String</span><span class="p">,</span> <span class="n">responseId</span> <span class="ow">As</span> <span class="kt">String</span><span class="p">)</span>
	<span class="n">Log</span><span class="p">(</span><span class="s">"Rewarded ad has seen compoletely. You can reward the user: "</span> <span class="o">&amp;</span> <span class="n">responseId</span><span class="p">)</span> 
<span class="k">End</span> <span class="k">Sub</span>

<span class="k">Sub</span> <span class="nf">TapsellPlus_OnError</span><span class="p">(</span><span class="n">error</span> <span class="ow">As</span> <span class="kt">String</span><span class="p">)</span>
	<span class="n">Log</span><span class="p">(</span><span class="s">"An Error occurred when either initializing, requesting or showing ad Ad. Error is: "</span> <span class="o">&amp;</span> <span class="n">error</span><span class="p">)</span>
<span class="k">End</span> <span class="k">Sub</span>
</code></pre></div></div><p data-title="کالبک‌های تبلیغ" data-color="orange">از نسخه‌ی ۲.۱.۴ به بعد به کالبک‌ها ZoneId نیز اضافه شده است. هنگام استفاده پارامتر کالبک‌ها را درست قرار دهید</p><p>پس از اضافه کردن کدها برنامه را اجرا کنید. بایستی این اجرا بدون هیچ خطایی باشد و برنامه اجرا شود.<br>در صورت رخداد هر نوع خطایی به <a href="https://github.com/tapsellorg/TapsellPlusSDK-B4APlugin/issues?q=is%3Aissue">لیست خطاها</a> مراجعه کنید.<br>در صورتی که خطای خود را پیدا نکردید <a href="https://github.com/tapsellorg/TapsellPlusSDK-B4APlugin/issues/new">مورد جدید را مطرح کنید</a>.</p><h2 id="موارد-مهم"><a class="anchor" href="#%D9%85%D9%88%D8%A7%D8%B1%D8%AF-%D9%85%D9%87%D9%85" aria-hidden="true"><span class="octicon octicon-link"></span></a>موارد مهم</h2><h3 id="تنظیمات-gdpr"><a class="anchor" href="#%D8%AA%D9%86%D8%B8%DB%8C%D9%85%D8%A7%D8%AA-gdpr" aria-hidden="true"><span class="octicon octicon-link"></span></a>تنظیمات GDPR</h3><p>از آن‌جا که کتابخانه‌ی تپسل پلاس قوانین GDPR را در خصوص نمایش تبلیغات شخصی‌سازی شده رعایت می‌کند، به طور پیش فرض اگر کاربر با IP یکی از کشورهای مشمول این قانون از اپلیکیشن شما استفاده کند، دیالوگی در این خصوص به کاربر نمایش می‌دهد. اگر تمایل دارید تا به جای تصمیم کاربر، خودتان دسترسی لازم را تعیین کنید می‌توانید از تکه کد زیر استفاده نمایید. توجه داشته باشید که این تکه کد می‌بایستی پس از Initialize شدن تپسل پلاس و پیش از درخواست تبلیغ صدا زده شود تا نتیجه‌ی آن در درخواست شما اعمال شده باشد. مقدار true‌ به این معنی است که شما حق استفاده از اطلاعات جهت نمایش تبلیغ شخصی‌سازی شده را به شبکه‌های تبلیغاتی داده‌اید.</p><div class="language-vb highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">tapsellPlus</span><span class="p">.</span><span class="n">SetGDPRConsent</span><span class="p">(</span><span class="k">True</span><span class="p">)</span>
</code></pre></div></div><h2 id="family-policy"><a class="anchor" href="#family-policy" aria-hidden="true"><span class="octicon octicon-link"></span></a>Family Policy</h2><p>اگر هر یک از مخاطبان هدف برنامه شما کودکان هستند (بخصوص اگر شما در حال توسعه یک بازی هستید)، محتوای برنامه شما باید مناسب برای این دسته از کاربران باشد. همچنین، امکان جمع‌آوری برخی از اطلاعات شخصی مانند <code class="language-plaintext highlighter-rouge">شناسه تبلیغاتی گوگل (Google Advertising ID)</code> مجاز نیست. با این حال، کتابخانه‌های تبلیغاتی شخص ثالت نیاز به این شناسه تبلیغاتی دارند تا تبلیغات شخصی‌سازی را برای کاربران ارائه و ارسال کنند. پس، در کتاباخانه تبلیغاتی تپسل، تمامی کاربران به عنوان افرادی با سن 13 سال یا بالاتر در نظر گرفته می‌شوند. بنابراین، به عنوان یک توسعه‌دهنده برنامه اگر قصد انتشار برنامه خود در <code class="language-plaintext highlighter-rouge">GooglePlay</code> را دارید، باید در پنل آن تایید کنید که برنامه شما برای مخاطبان با سن 13 سال یا بالاتر هدف قرار دارد. در غیر این صورت، برنامه شما بر اساس این سیاست <code class="language-plaintext highlighter-rouge">GooglePlay</code> حذف خواهد شد.</p><h3 id="دسترسیهای-اضافی"><a class="anchor" href="#%D8%AF%D8%B3%D8%AA%D8%B1%D8%B3%DB%8C%D9%87%D8%A7%DB%8C-%D8%A7%D8%B6%D8%A7%D9%81%DB%8C" aria-hidden="true"><span class="octicon octicon-link"></span></a>دسترسی‌های اضافی</h3><p>کتابخانه‌ی تپسل‌پلاس به جز اینترنت و WAKE_LOCK دسترسی دیگری از کاربر نمی‌گیرد. امّا به منظور بهبود عملکرد کتابخانه برای نمایش تبلیغات متناسب با هر کاربر می‌توانید دسترسی زیر را به اپلیکیشن خود اضافه نمایید. همچنین می‌بایستی دسترسی در <a href="https://www.b4x.com/android/forum/threads/runtime-permissions-android-6-0-permissions.67689/#content">زمان اجرا</a> برای این مورد را نیز از کاربر بگیرید.</p><p>این دسترسی را به Manifest editor اضافه کنید:</p><div class="language-vb highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">AddPermission</span><span class="p">(</span><span class="n">android</span><span class="p">.</span><span class="n">permission</span><span class="p">.</span><span class="n">READ_PHONE_STATE</span><span class="p">)</span>
</code></pre></div></div><h4 id="پشتیبانی-از-اندروید-۱۳"><a class="anchor" href="#%D9%BE%D8%B4%D8%AA%DB%8C%D8%A8%D8%A7%D9%86%DB%8C-%D8%A7%D8%B2-%D8%A7%D9%86%D8%AF%D8%B1%D9%88%DB%8C%D8%AF-%DB%B1%DB%B3" aria-hidden="true"><span class="octicon octicon-link"></span></a>پشتیبانی از اندروید ۱۳</h4><p>اپلیکیشن‌هایی که نسخه <code class="language-plaintext highlighter-rouge">targetSDK</code> پروژه خود را به ۳۳ (اندروید ۱۳) ارتقا می‌دهند، باید مجوز سرویس‌های گوگل پلی را در فایل مانیفست خود اضافه کنند، همانند زیر:</p><div class="language-vb highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">AddPermission</span><span class="p">(</span><span class="n">com</span><span class="p">.</span><span class="n">google</span><span class="p">.</span><span class="n">android</span><span class="p">.</span><span class="n">gms</span><span class="p">.</span><span class="n">permission</span><span class="p">.</span><span class="n">AD_ID</span><span class="p">)</span>
</code></pre></div></div><p>برای خواندن بیشتر در مورد تغییرات شناسه تبلیغات گوگل <a href="https://support.google.com/googleplay/android-developer/answer/6048248?hl=en">اینجا</a> کلیک کنید.</p><hr><p>برای درخواست تبلیغ به <a href="/en/plus-sdk/b4a/main/index.html">صفحه‌ی اصلی</a> مراجعه کنید و تبلیغ مورد نظر را مطابق مستندات بسازید</p></div></article></div></div><footer id="footer" class="footer"><div class="container"><div class="row justify-content-between"><div class="col-auto"><div><div class="social-container"><div class="social-btns"><a href="https://t.me/tapsell" target="_blank" class="social-btn-telegram" title="Telegram"><i class="fab fa-telegram" aria-hidden="true"></i><span class="sr-only">Telegram</span> </a><a href="https://twitter.com/TapsellAdNet" target="_blank" class="social-btn-twitter" title="Twitter"><i class="fab fa-twitter" aria-hidden="true"></i><span class="sr-only">Twitter</span> </a><a href="https://www.youtube.com/channel/UCopCgb525Yict-Kqgdbkmjw" target="_blank" class="social-btn-youtube" title="YouTube"><i class="fab fa-youtube" aria-hidden="true"></i><span class="sr-only">YouTube</span> </a><a href="https://www.linkedin.com/company/tapsell" target="_blank" class="social-btn-linkedin" title="LinkedIn"><i class="fab fa-linkedin" aria-hidden="true"></i><span class="sr-only">LinkedIn</span></a></div></div></div></div><div class="col-auto"><img src="/assets/images/logos/logo-dark-background.png" class="logo-small margin-top-small" alt="Tapsell"></div></div><div class="row"><div class="col-md-12"><hr class="dark m-0"><div class="footer-nav-container"><nav class="footer-nav"><ul class="footer-nav-list"><li><a href="https://docs.tapsell.ir/terms-and-condition/">قوانین و ضوابط</a></li><li><a href="https://docs.tapsell.ir/faq/publisher/">سوالات متداول</a></li><li><a href="https://docs.tapsell.ir/faq/advertiser/">سوالات متداول تبلیغ‌دهندگان</a></li><li><a href="https://docs.tapsell.ir/paying-income/">پرداخت درآمد</a></li><li><a href="mailto:info@tapsell.ir" target="_blank"><span>تماس با ما</span></a></li></ul></nav></div><div class="margin-top-small margin-bottom-small text-center-small-float-right"><span>طراحی و توسعه توسط تپسل - ایران 2025.</span></div></div></div></div></footer><script src="/assets/bundle.js?v=1752915253&_v=1752915254286" type="text/javascript"></script></main></body></html>