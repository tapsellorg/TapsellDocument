---
layout: classic-docs
title: Initialization of Tapsell Plus SDK in Unity (Android)
lang: en
permalink: /plus-sdk/unity/initialize-android/index.html
toc: true # table of contents
---

##Adding Tapsell Plus Unity package
There are two ways to add the required libraries, use one of them.

###1. Using Gradle
1. First, download Tepsell Plus `unitypackage` from [this link](https://github.com/tapsellorg/TapsellPlusSDK-UnitySample2019/releases/download/V2.1.6/TapsellPlusUnity-Gradle-v2.1.6.unitypackage).
2. Add the downloaded `unitypackage` to your project as follows: (If the TapsellPlus folder already exists in your project, please remove it).

```console
Assets > Import Package > Custom Package...
```

3. Add your own custom Gradle build file by enabling related checkboxes as follows:

```console
Edit > Project Setting... > Player > Publishing Settings > Custom Launcher Gradle Template
Edit > Project Setting... > Player > Publishing Settings > Custom Main Gradle Template
Edit > Project Setting... > Player > Publishing Settings > Custom Base Gradle Template
```


4. Go to `Assets\Plugins\Android\mainTemplate.gradle` and delete the comment line above the file.
```gradle
// GENERATED BY UNITY. REMOVE THIS COMMENT TO PREVENT OVERWRITING WHEN EXPORTING AGAIN
```
Then add the following line in the `dependencies` section:
```gradle
dependencies {
    ...
    implementation 'ir.tapsell.plus:tapsell-plus-sdk-unity:2.1.6'
    ...
**DEPS**}
```
Add the following code snippet if not already added:
```gradle
android {
  compileOptions {
    sourceCompatibility JavaVersion.VERSION_1_8
    targetCompatibility JavaVersion.VERSION_1_8
  }
}
```

5. Go to `Assets\Plugins\Android\baseProjectTemplate.gradle` and add `mavenCentral()` to both `repositories`. Then change the version of `com.android.tools.build:gradle` to 3.6.0.


> Note that at least version 3.6.0 is required for the Android Gradle Plugin to support Android 11 in the project. You can get help from this link to add a version of Gradle that supports Android 11.

6. After adding TepselPlus and other Ad Networks, you will probably need to enable MultiDex due to the increase in code size and method counts to prevent the following error.
```console
D8: Cannot fit requested classes in a single dex file (# methods: 68109 > 65536)
```
To enable MultiDex, go to `Assets\Plugins\Android\launcherTemplate.gradle` and add the following code snippet to it:
```gradle
android {
  ...
  defaultConfig {
    ...
    multiDexEnabled true
  }
  ...
}
```

###2. Using Resolver

1. First, download the [unitypackage resolver](https://github.com/googlesamples/unity-jar-resolver/releases) file. Then add it to your project according to the description of the following link:

[Google Documentation](https://github.com/googlesamples/unity-jar-resolver#android-resolver-usage)

2. 

```console
Assets > External Dependency Manager > Android Resolver > Settings > Use Jetifier
Assets > External Dependency Manager > Android Resolver > Settings > Enable Auto-Resolution
```



```console
Assets > External Dependency Manager > Android Resolver > Force Resolve
```

##Initialization
First, use the following code snippet to access Tepsell dependency codes.

```c#
using TapsellPlusSDK;
```

Then call the following function in one of your application scripts that runs at the beginning of the program.

```c#
TapsellPlus.Initialize(TAPSELLPLUS_KEY,
            adNetworkName => Debug.Log(adNetworkName + " Initialized Successfully."),
            error => Debug.Log(error.ToString()));
```

`TAPSELLPLUS_KEY` is the key of Tepsel Plus and it is created in [Tepsel panel](https://dashboard.tapsell.ir/) for every application you create and you can copy it from the panel.

You can now display the desired ad according to your needs and the description of each type of ad.

##GDPR Configuration
Given that The Tepsel Plus library complies with the GDPR rules for displaying personalized ads, by default if the user uses your application with the IP of one of the countries covered by this law, it will display a dialog to user. If you want to determine the necessary access by yourself, instead of the user's decision, you can use the following code snippet, you can use the following code snippet. Note that this code snippet must be called after Tepsel Plus is initialized and before the ad request is applied to the result of your request. A value of trueâ€Œ means that you give ad networks the right to use the information to display personalized advertising.
```c#
TapsellPlus.SetGdprConsent(true);
```

##Sample Project
for more information, please refer to the sample projects on Github.

* [Sample project compatible with Unity 2020.3.9f1 LTS](https://github.com/tapsellorg/TapsellPlusSDK-UnitySample2020)

* [Sample project compatible with Unity 2019.4.11f1 LTS](https://github.com/tapsellorg/TapsellPlusSDK-UnitySample2019)

* [Sample project compatible with Unity 2018.4.26f1 LTS](https://github.com/tapsellorg/TapsellPlusSDK-UnitySample2018)


