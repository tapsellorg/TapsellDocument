<!DOCTYPE html><html lang="fa" dir="rtl"><head><meta charset="UTF-8"><meta content="IE=edge" http-equiv="X-UA-Compatible"><meta content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" name="viewport"><meta name="description" content="Tapsell, by dominating a great extent of digital media network and giving various advertising campaigns, is capable of meeting the expectation of the most valuable brands. Additionally, by showing the advertisements to the subscribers in a smart way, we bring a long- lasting and remarkable revenue without any damage to media owners’ practical experience."><link href="/assets/images/favicons/76X76.png" rel="apple-touch-icon" sizes="152x152"><link href="/assets/images/favicons/32X32.png" rel="icon" sizes="32x32" type="image/png"><link href="/assets/images/favicons/16X16.png" rel="icon" sizes="16x16" type="image/png"><link href="/assets/images/favicons/site.webmanifest" rel="manifest"><link color="#5bbad5" href="/assets/images/favicons/safari-pinned-tab.svg" rel="mask-icon"><meta content="#da532c" name="msapplication-TileColor"><meta content="#ffffff" name="theme-color"><link href="/assets/style.css?v=1752915253&_v=1752915254286" rel="stylesheet"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.6.0/css/all.css?_v=1752915254286"><script src="https://cdn.jsdelivr.net/npm/darkreader@4.9.92/darkreader.min.js?_v=1752915254286"></script><script src="/assets/js/color-scheme.js?_v=1752915254286"></script><title>راه اندازی تپسل پلاس در اندروید - Tapsell</title></head><body><header id="header"><div class="container"><div class="header-content"><div class="header-logo"><a class="logo" href="https://tapsell.ir"><img src="/assets/images/logos/logo-dark-background.png" class="logo-image" alt="Tapsell Docs"></a></div><nav class="header-nav"><ul class="main-nav"><li class="nav-item"><a href="/"><span>خانه</span></a></li><li class="nav-item"><a href="https://dashboard.tapsell.ir/" target="_blank"><span>داشبورد</span></a></li><li class="nav-item"><a href="https://college.tapsell.ir/" target="_blank"><span>کالج تپسل</span></a></li><li class="nav-item"><a href="https://docs.tapsell.ir/en"><span>English</span></a></li></ul></nav><div class="header-nav-btns"></div></div></div></header><main class="outer"><div class="main-searchbar"></div><div class="hits-target"></div><div class="main-body"><div class="sidebar-wrapper"><aside id="sidebar" class="sidebar"><ul class="sidebar-list"><li class="sidebar-main-item closed" data-section="تپسل-پلاس"><div class="main-item-parent"><i class="main-item-icon m-sdk mr-ltr-2"></i> <span class="main-item-text nav-span">تپسل پلاس</span> <i class="main-item-arrow picon-right-chevron"></i></div><ul class="main-item-children"><li class="child-item"><a class="" href="/plus-sdk/android/main" data-proofer-ignore>Android</a><ul class="child-item-children"><li class="subchild-item"><a class="" href="/plus-sdk/android/initialize" data-proofer-ignore>راه اندازی</a></li><li class="subchild-item"><a class="" href="/plus-sdk/android/rewarded-interstitial" data-proofer-ignore>آنی/جایزه‌ای</a></li><li class="subchild-item"><a class="" href="/plus-sdk/android/native" data-proofer-ignore>همسان</a></li><li class="subchild-item"><a class="" href="/plus-sdk/android/native-vid" data-proofer-ignore>ویدئوی همسان</a></li><li class="subchild-item"><a class="" href="/plus-sdk/android/standard" data-proofer-ignore>استاندارد</a></li><li class="subchild-item"><a class="" href="/plus-sdk/android/vast" data-proofer-ignore>VAST</a></li><li class="subchild-item"><a class="" href="/plus-sdk/android/add-adnetworks" data-proofer-ignore>شبکه‌های تبلیغاتی</a></li><li class="subchild-item"><a class="" href="/plus-sdk/android/adnetworks-test" data-proofer-ignore>تست</a></li><li class="subchild-item"><a class="" href="/faq/plus-sdk/android/" data-proofer-ignore>خطاهای فنی رایج</a></li></ul></li><li class="child-item"><a class="" href="/plus-sdk/unity/main" data-proofer-ignore>Unity</a><ul class="child-item-children"><li class="subchild-item"><a class="" href="/plus-sdk/unity/initialize-android" data-proofer-ignore>راه اندازی اندروید</a></li><li class="subchild-item"><a class="" href="/plus-sdk/unity/rewarded-interstitial" data-proofer-ignore>آنی/جایزه‌ای</a></li><li class="subchild-item"><a class="" href="/plus-sdk/unity/native" data-proofer-ignore>همسان</a></li><li class="subchild-item"><a class="" href="/plus-sdk/unity/standard" data-proofer-ignore>استاندارد</a></li><li class="subchild-item"><a class="" href="/plus-sdk/unity/add-adnetworks" data-proofer-ignore>شبکه‌های تبلیغاتی</a></li><li class="subchild-item"><a class="" href="/plus-sdk/unity/adnetworks-test" data-proofer-ignore>تست</a></li><li class="subchild-item"><a class="" href="/faq/plus-sdk/unity/" data-proofer-ignore>خطاهای فنی رایج</a></li></ul></li><li class="child-item"><a class="" href="/plus-sdk/flutter/main" data-proofer-ignore>Flutter</a><ul class="child-item-children"><li class="subchild-item"><a class="" href="/plus-sdk/flutter/initialize" data-proofer-ignore>راه اندازی</a></li><li class="subchild-item"><a class="" href="/plus-sdk/flutter/rewarded-interstitial" data-proofer-ignore>آنی/جایزه‌ای</a></li><li class="subchild-item"><a class="" href="/plus-sdk/flutter/native" data-proofer-ignore>همسان</a></li><li class="subchild-item"><a class="" href="/plus-sdk/flutter/standard" data-proofer-ignore>استاندارد</a></li><li class="subchild-item"><a class="" href="/plus-sdk/flutter/add-adnetworks" data-proofer-ignore>شبکه‌های تبلیغاتی</a></li><li class="subchild-item"><a class="" href="/plus-sdk/flutter/adnetworks-test" data-proofer-ignore>تست</a></li><li class="subchild-item"><a class="" href="/faq/plus-sdk/flutter/" data-proofer-ignore>خطاهای فنی رایج</a></li></ul></li><li class="child-item"><a class="" href="/plus-sdk/reactnative/main" data-proofer-ignore>React Native</a><ul class="child-item-children"><li class="subchild-item"><a class="" href="/plus-sdk/reactnative/initialize-android" data-proofer-ignore>راه اندازی</a></li><li class="subchild-item"><a class="" href="/plus-sdk/reactnative/rewarded" data-proofer-ignore>آنی/جایزه‌ای</a></li><li class="subchild-item"><a class="" href="/plus-sdk/reactnative/native" data-proofer-ignore>همسان</a></li><li class="subchild-item"><a class="" href="/plus-sdk/reactnative/standard" data-proofer-ignore>استاندارد</a></li><li class="subchild-item"><a class="" href="/plus-sdk/reactnative/add-adnetworks" data-proofer-ignore>شبکه‌های تبلیغاتی</a></li><li class="subchild-item"><a class="" href="/plus-sdk/reactnative/adnetworks-test" data-proofer-ignore>تست</a></li><li class="subchild-item"><a class="" href="/faq/plus-sdk/reactnative/" data-proofer-ignore>خطاهای فنی رایج</a></li></ul></li><li class="child-item"><a class="" href="/plus-sdk/b4a/main" data-proofer-ignore>Basic4Android</a><ul class="child-item-children"><li class="subchild-item"><a class="" href="/plus-sdk/b4a/initialize" data-proofer-ignore>راه اندازی</a></li><li class="subchild-item"><a class="" href="/plus-sdk/b4a/rewarded" data-proofer-ignore>آنی/جایزه‌ای</a></li><li class="subchild-item"><a class="" href="/plus-sdk/b4a/native" data-proofer-ignore>همسان</a></li><li class="subchild-item"><a class="" href="/plus-sdk/b4a/native-vid" data-proofer-ignore>ویدئوی همسان</a></li><li class="subchild-item"><a class="" href="/plus-sdk/b4a/standard" data-proofer-ignore>استاندارد</a></li><li class="subchild-item"><a class="" href="/plus-sdk/b4a/add-adnetworks" data-proofer-ignore>شبکه‌های تبلیغاتی</a></li><li class="subchild-item"><a class="" href="/plus-sdk/b4a/adnetworks-test" data-proofer-ignore>تست</a></li><li class="subchild-item"><a class="" href="/faq/plus-sdk/b4a/" data-proofer-ignore>خطاهای فنی رایج</a></li></ul></li></ul></li></ul><ul class="sidebar-list"><li class="sidebar-main-item closed" data-section="تپسل"><div class="main-item-parent"><i class="main-item-icon m-sdk mr-ltr-2"></i> <span class="main-item-text nav-span">تپسل</span> <i class="main-item-arrow picon-right-chevron"></i></div><ul class="main-item-children"><li class="child-item"><a class="" href="/tapsell-sdk/android/main" data-proofer-ignore>Android</a><ul class="child-item-children"><li class="subchild-item"><a class="" href="/tapsell-sdk/android/initialize" data-proofer-ignore>راه اندازی</a></li><li class="subchild-item"><a class="" href="/tapsell-sdk/android/rewarded-interstitial" data-proofer-ignore>جایزه‌ای/آنی</a></li><li class="subchild-item"><a class="" href="/tapsell-sdk/android/standard" data-proofer-ignore>بنر استاندارد</a></li><li class="subchild-item"><a class="" href="/tapsell-sdk/android/native" data-proofer-ignore>بنر همسان</a></li><li class="subchild-item"><a class="" href="/tapsell-sdk/android/vast" data-proofer-ignore>VAST</a></li></ul></li><li class="child-item"><a class="" href="/s2s" data-proofer-ignore>سیستم صحت سنجی</a></li></ul></li></ul><ul class="sidebar-list"><li class="sidebar-main-item closed" data-section="تبلیغ-دهنده-ها"><div class="main-item-parent"><i class="main-item-icon m-sdk mr-ltr-2"></i> <span class="main-item-text nav-span">تبلیغ دهنده‌ها</span> <i class="main-item-arrow picon-right-chevron"></i></div><ul class="main-item-children"><li class="child-item"><a class="" href="/advertiser/playable" data-proofer-ignore>Playable</a></li></ul></li></ul></aside></div><div class="article-container"><article><h1 class="article-title">راه اندازی تپسل پلاس در اندروید</h1><div class="article-content"><ul id="toc" class="section-nav"><li class="toc-entry toc-h2"><a href="#تنظیمات-gradle">تنظیمات Gradle</a><ul><li class="toc-entry toc-h4"><a href="#پشتیبانی-از-اندروید-۱۳">پشتیبانی از اندروید ۱۳</a></li></ul></li><li class="toc-entry toc-h2"><a href="#مقداردهی-اولیه">مقداردهی اولیه</a></li><li class="toc-entry toc-h2"><a href="#تنظیمات-proguard">تنظیمات proguard</a></li><li class="toc-entry toc-h2"><a href="#تنظیمات-مربوط-به-gdpr">تنظیمات مربوط به GDPR</a></li><li class="toc-entry toc-h2"><a href="#family-policy">Family Policy</a></li><li class="toc-entry toc-h2"><a href="#دسترسیها">دسترسی‌ها</a></li><li class="toc-entry toc-h2"><a href="#تنظیمات-network-security-configuration">تنظیمات Network Security Configuration</a></li></ul><blockquote data-title="نکته Build پروژه" data-color="red"><p>در صورت وجود مشکل یا ابهام به <a href="/faq/plus-sdk/android/">لیست خطاهای فنی رایج</a> مراجعه کنید یا صفحه‌ی <a href="https://github.com/tapsellorg/TapsellPlusSDK-AndroidSample/issues?q=is%3Aissue">Github Issues</a> را بررسی نمایید.</p></blockquote><p>ابتدا کتابخانه‌ی TapsellPlus را مطابق روش زیر به پروژه‌ی خود اضافه کنید. سپس هر شبکه‌ی تبلیغاتی که مایل هستید و تپسل پلاس پشتیبانی می‌کند را مطابق توضیحات بخش شبکه‌های تبلیغاتی به پروژه‌ی خود اضافه نمایید. در انتها با اطلاعات موجود در بخش تست، مطمئن شوید که شبکه‌ی مورد نظر به درستی کار می‌کند.</p><h2 id="تنظیمات-gradle"><a class="anchor" href="#%D8%AA%D9%86%D8%B8%DB%8C%D9%85%D8%A7%D8%AA-gradle" aria-hidden="true"><span class="octicon octicon-link"></span></a>تنظیمات Gradle</h2><p>ریپازیتوری تپسل را به فایل <code class="language-plaintext highlighter-rouge">build.gradle</code> اصلی پروژه اضافه کنید.</p><div class="language-gradle highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">allprojects</span> <span class="o">{</span>  
    <span class="k">repositories</span> <span class="o">{</span>
        <span class="o">....</span>
        <span class="n">mavenCentral</span><span class="o">()</span>

        <span class="c1">// for v1.2.3-rc4 and before</span>
        <span class="c1">//maven {  </span>
        <span class="c1">//    url 'https://dl.bintray.com/tapsellorg/maven'  </span>
        <span class="c1">//}</span>
        <span class="o">....</span>
    <span class="o">}</span>  
<span class="o">}</span>
</code></pre></div></div><p>خط زیر را به فایل <code class="language-plaintext highlighter-rouge">build.gradle</code> ماژول برنامه در قسمت <code class="language-plaintext highlighter-rouge">dependencies</code> اضافه کنید.</p><div class="language-groovy highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">dependencies</span> <span class="o">{</span>
    <span class="c1">// ...</span>
    
    <span class="n">implementation</span><span class="o">(</span><span class="s2">"ir.tapsell.plus:tapsell-plus-sdk-android:2.3.2"</span><span class="o">)</span>
<span class="o">}</span>
</code></pre></div></div><p>همچنین اگر در قسمت android این قسمت وجود ندارد اضافه‌اش کنید.</p><div class="language-groovy highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">compileOptions</span> <span class="o">{</span>
  <span class="n">sourceCompatibility</span> <span class="n">JavaVersion</span><span class="o">.</span><span class="na">VERSION_1_8</span>
  <span class="n">targetCompatibility</span> <span class="n">JavaVersion</span><span class="o">.</span><span class="na">VERSION_1_8</span>
<span class="o">}</span>
</code></pre></div></div><p>با کمک پراکسی gradle را sync کنید تا تپسل به پروژه اضافه شود.</p><h4 id="پشتیبانی-از-اندروید-۱۳"><a class="anchor" href="#%D9%BE%D8%B4%D8%AA%DB%8C%D8%A8%D8%A7%D9%86%DB%8C-%D8%A7%D8%B2-%D8%A7%D9%86%D8%AF%D8%B1%D9%88%DB%8C%D8%AF-%DB%B1%DB%B3" aria-hidden="true"><span class="octicon octicon-link"></span></a>پشتیبانی از اندروید ۱۳</h4><p>اپلیکیشن‌هایی که نسخه <code class="language-plaintext highlighter-rouge">targetSDK</code> پروژه خود را به ۳۳ (اندروید ۱۳) ارتقا می‌دهند، باید مجوز سرویس‌های گوگل پلی را در فایل مانیفست خود اضافه کنند، همانند زیر:</p><div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;uses-permission</span> <span class="na">android:name=</span><span class="s">"com.google.android.gms.permission.AD_ID"</span><span class="nt">/&gt;</span>
</code></pre></div></div><p>برای خواندن بیشتر در مورد تغییرات شناسه تبلیغات گوگل <a href="https://support.google.com/googleplay/android-developer/answer/6048248?hl=en">اینجا</a> کلیک کنید.</p><h2 id="مقداردهی-اولیه"><a class="anchor" href="#%D9%85%D9%82%D8%AF%D8%A7%D8%B1%D8%AF%D9%87%DB%8C-%D8%A7%D9%88%D9%84%DB%8C%D9%87" aria-hidden="true"><span class="octicon octicon-link"></span></a>مقداردهی اولیه</h2><p>در اکتیویتی اولیه برنامه باید تپسل پلاس را راه‌اندازی کنید.</p><div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">ir.tapsell.plus.TapsellPlus</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MainActivity</span> <span class="kd">extends</span> <span class="nc">AppCompatActivity</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="nc">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>
        <span class="n">setContentView</span><span class="o">(</span><span class="no">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">activity_main</span><span class="o">);</span>
        <span class="o">...</span>
        <span class="nc">TapsellPlus</span><span class="o">.</span><span class="na">initialize</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="nc">BuildConfig</span><span class="o">.</span><span class="na">TAPSELL_KEY</span><span class="o">,</span>
				<span class="k">new</span> <span class="nf">TapsellPlusInitListener</span><span class="o">()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onInitializeSuccess</span><span class="o">(</span><span class="nc">AdNetworks</span> <span class="n">adNetworks</span><span class="o">)</span> <span class="o">{</span>
                <span class="nc">Log</span><span class="o">.</span><span class="na">d</span><span class="o">(</span><span class="s">"onInitializeSuccess"</span><span class="o">,</span> <span class="n">adNetworks</span><span class="o">.</span><span class="na">name</span><span class="o">());</span>
            <span class="o">}</span>

            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onInitializeFailed</span><span class="o">(</span><span class="nc">AdNetworks</span> <span class="n">adNetworks</span><span class="o">,</span>
						<span class="nc">AdNetworkError</span> <span class="n">adNetworkError</span><span class="o">)</span> <span class="o">{</span>
                <span class="nc">Log</span><span class="o">.</span><span class="na">e</span><span class="o">(</span><span class="s">"onInitializeFailed"</span><span class="o">,</span> <span class="s">"ad network: "</span> <span class="o">+</span> <span class="n">adNetworks</span><span class="o">.</span><span class="na">name</span><span class="o">()</span> <span class="o">+</span> <span class="s">", error: "</span> <span class="o">+</span>	<span class="n">adNetworkError</span><span class="o">.</span><span class="na">getErrorMessage</span><span class="o">());</span>
            <span class="o">}</span>
        <span class="o">});</span>
        <span class="o">...</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div><p><code class="language-plaintext highlighter-rouge">TAPSELL_KEY</code> کلید تپسل هست و برای هر اپلیکیشن که میسازید در <a href="https://dashboard.tapsell.ir/">پنل تپسل</a> ساخته میشود، میتوانید از پنل کپی کنید.</p><blockquote data-title="Debug mode" data-color="blue"><p>برای مشاهده‌ی جزئی‌تر لاگ‌ها در لایبرری از کد</p><div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">TapsellPlus</span><span class="o">.</span><span class="na">setDebugMode</span><span class="o">(</span><span class="nc">Log</span><span class="o">.</span><span class="na">DEBUG</span><span class="o">)</span>
</code></pre></div></div><p>استفاده کنید. هنگام درخواست یا نمایش هرگونه خطایی با جزئیات دقیق‌تر نمایش داده می‌شود.</p></blockquote><h2 id="تنظیمات-proguard"><a class="anchor" href="#%D8%AA%D9%86%D8%B8%DB%8C%D9%85%D8%A7%D8%AA-proguard" aria-hidden="true"><span class="octicon octicon-link"></span></a>تنظیمات proguard</h2><p>تنظیمات مربوط به <code class="language-plaintext highlighter-rouge">proguard</code> در <a href="https://github.com/tapsellorg/TapsellPlusSDK-AndroidSample/blob/master/app/proguard-rules.pro">این فایل</a> قرار دارد.</p><h2 id="تنظیمات-مربوط-به-gdpr"><a class="anchor" href="#%D8%AA%D9%86%D8%B8%DB%8C%D9%85%D8%A7%D8%AA-%D9%85%D8%B1%D8%A8%D9%88%D8%B7-%D8%A8%D9%87-gdpr" aria-hidden="true"><span class="octicon octicon-link"></span></a>تنظیمات مربوط به GDPR</h2><p>از آن‌جا که کتابخانه‌ی تپسل پلاس قوانین GDPR را در خصوص نمایش تبلیغات شخصی‌سازی شده رعایت می‌کند، به طور پیش فرض اگر کاربر با IP یکی از کشورهای مشمول این قانون از اپلیکیشن شما استفاده کند، دیالوگی در این خصوص به کاربر نمایش می‌دهد. اگر تمایل دارید تا به جای تصمیم کاربر، خودتان دسترسی لازم را تعیین کنید می‌توانید از تکه کد زیر استفاده نمایید. توجه داشته باشید که این تکه کد می‌بایستی پس از Initialize شدن تپسل پلاس و پیش از درخواست تبلیغ صدا زده شود تا نتیجه‌ی آن در درخواست شما اعمال شده باشد. مقدار true‌ به این معنی است که شما حق استفاده از اطلاعات جهت نمایش تبلیغ شخصی‌سازی شده را به شبکه‌های تبلیغاتی داده‌اید.</p><div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">TapsellPlus</span><span class="o">.</span><span class="na">setGDPRConsent</span><span class="o">(</span><span class="n">activity</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
</code></pre></div></div><p>در صورت نیاز به نمایش مجدد دیالوگ GDPR برای کاربر می‌توانید از کد زیر استفاده نمایید:</p><div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">TapsellPlus</span><span class="o">.</span><span class="na">showGDPRDialog</span><span class="o">(</span><span class="cm">/* activity */</span> <span class="k">this</span><span class="o">)</span>
</code></pre></div></div><h2 id="family-policy"><a class="anchor" href="#family-policy" aria-hidden="true"><span class="octicon octicon-link"></span></a>Family Policy</h2><p>اگر هر یک از مخاطبان هدف برنامه شما کودکان هستند (بخصوص اگر شما در حال توسعه یک بازی هستید)، محتوای برنامه شما باید مناسب برای این دسته از کاربران باشد. همچنین، امکان جمع‌آوری برخی از اطلاعات شخصی مانند <code class="language-plaintext highlighter-rouge">شناسه تبلیغاتی گوگل (Google Advertising ID)</code> مجاز نیست. با این حال، کتابخانه‌های تبلیغاتی شخص ثالت نیاز به این شناسه تبلیغاتی دارند تا تبلیغات شخصی‌سازی را برای کاربران ارائه و ارسال کنند. پس، در کتاباخانه تبلیغاتی تپسل، تمامی کاربران به عنوان افرادی با سن 13 سال یا بالاتر در نظر گرفته می‌شوند. بنابراین، به عنوان یک توسعه‌دهنده برنامه اگر قصد انتشار برنامه خود در <code class="language-plaintext highlighter-rouge">GooglePlay</code> را دارید، باید در پنل آن تایید کنید که برنامه شما برای مخاطبان با سن 13 سال یا بالاتر هدف قرار دارد. در غیر این صورت، برنامه شما بر اساس این سیاست <code class="language-plaintext highlighter-rouge">GooglePlay</code> حذف خواهد شد.</p><h2 id="دسترسیها"><a class="anchor" href="#%D8%AF%D8%B3%D8%AA%D8%B1%D8%B3%DB%8C%D9%87%D8%A7" aria-hidden="true"><span class="octicon octicon-link"></span></a>دسترسی‌ها</h2><p>کتابخانه‌ی تپسل‌پلاس به جز اینترنت و WAKE_LOCK دسترسی دیگری از کاربر نمی‌گیرد. امّا به منظور بهبود عملکرد کتابخانه برای نمایش تبلیغات متناسب با هر کاربر می‌توانید دسترسی زیر را به اپلیکیشن خود اضافه نمایید. همچنین می‌بایستی <a href="https://developer.android.com/training/permissions/requesting">دسترسی در زمان اجرا</a> برای این مورد را نیز از کاربر بگیرید.</p><div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;uses-permission</span> <span class="na">android:name=</span><span class="s">"android.permission.READ_PHONE_STATE"</span> <span class="nt">/&gt;</span>
</code></pre></div></div><p>این دسترسی صرفا برای دریافت Network Type کاربر بوده و استفاده‌ی دیگری از آن نمی‌شود. در صورتی که با اضافه کردن این دسترسی قصد انتشار اپلیکیشن خود در پلی استور را دارید می‌بایستی Privacy Policy خود را تغییر دهید. (می‌توانید از <a href="https://stackoverflow.com/questions/41234205/warnings-your-apk-is-using-permissions-that-require-a-privacy-policy-android-p">این لینک</a> کمک بگیرید).</p><p>در صورتی که از نسخه‌های قبل از ۱.۲.۶ استفاده می‌کنید و قصد گرفتن این دسترسی را ندارید می‌توانید با افزودن تکه کد زیر به فایل AndroidManifest.xml آن را حذف نمایید (در نسخه‌های ۱.۲.۶ به بعد این دسترسی به طور پیش‌فرض وجود ندارد و نیازی به حذف کردن آن نیست).</p><div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;uses-permission</span> <span class="na">android:name=</span><span class="s">"android.permission.READ_PHONE_STATE"</span>
	<span class="na">tools:node=</span><span class="s">"remove"</span> <span class="nt">/&gt;</span>
</code></pre></div></div><h2 id="تنظیمات-network-security-configuration"><a class="anchor" href="#%D8%AA%D9%86%D8%B8%DB%8C%D9%85%D8%A7%D8%AA-network-security-configuration" aria-hidden="true"><span class="octicon octicon-link"></span></a>تنظیمات Network Security Configuration</h2><p>در صورتی که اپلیکیشن شما درخواست‌های http ارسال می‌کند، در مسیر <code class="language-plaintext highlighter-rouge">res/xml</code> پروژه‌ی خود یک فایل به نام<code class="language-plaintext highlighter-rouge">network_security_config.xml</code> بسازید.</p><ul><li>اگر تمام ارتباطات اپلیکیشن شما از طریق پروتوکل http برقرار می‌شود، خطوط زیر را به فایل <code class="language-plaintext highlighter-rouge">network_security_config.xml</code> اضافه کنید:</li></ul><div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;network-security-config&gt;</span>
  <span class="nt">&lt;base-config</span> <span class="na">cleartextTrafficPermitted=</span><span class="s">"true"</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/base-config&gt;</span>
<span class="nt">&lt;/network-security-config&gt;</span>
</code></pre></div></div><ul><li>اگر اپلیکیشن شما به تعداد محدودی از domainها بسته‌های http ارسال می‌کند، خطوط زیر را به فایل <code class="language-plaintext highlighter-rouge">network_security_config.xml</code> اضافه کنید:</li></ul><div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;network-security-config&gt;</span>
  <span class="nt">&lt;domain-config</span> <span class="na">cleartextTrafficPermitted=</span><span class="s">"true"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;domain</span> <span class="na">includeSubdomains=</span><span class="s">"true"</span><span class="nt">&gt;</span><span class="cp">&lt;!—your subdomain--&gt;</span><span class="nt">&lt;/domain&gt;</span>
  <span class="nt">&lt;/domain-config&gt;</span>
<span class="nt">&lt;/network-security-config&gt;</span>
</code></pre></div></div><p>در آخر به تگ application در فایل <code class="language-plaintext highlighter-rouge">AndroidManifest.xml</code> اپلیکیشن خود، attribute <code class="language-plaintext highlighter-rouge">android:networkSecurityConfig</code> را مطابق خطوط زیر اضافه کنید:</p><div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;manifest&gt;</span>
    <span class="nt">&lt;application</span> 
        <span class="na">android:networkSecurityConfig=</span><span class="s">"@xml/network_security_config"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;/application&gt;</span>
<span class="nt">&lt;/manifest&gt;</span>
</code></pre></div></div><p>و در صورت وجود attribute زیر در تگ application در <code class="language-plaintext highlighter-rouge">AndroidManifest.xml</code> آن را حذف کنید:</p><div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;application</span>
         <span class="na">android:usesCleartextTraffic=</span><span class="s">"true"</span><span class="nt">&gt;</span>
</code></pre></div></div></div></article></div></div><footer id="footer" class="footer"><div class="container"><div class="row justify-content-between"><div class="col-auto"><div><div class="social-container"><div class="social-btns"><a href="https://t.me/tapsell" target="_blank" class="social-btn-telegram" title="Telegram"><i class="fab fa-telegram" aria-hidden="true"></i><span class="sr-only">Telegram</span> </a><a href="https://twitter.com/TapsellAdNet" target="_blank" class="social-btn-twitter" title="Twitter"><i class="fab fa-twitter" aria-hidden="true"></i><span class="sr-only">Twitter</span> </a><a href="https://www.youtube.com/channel/UCopCgb525Yict-Kqgdbkmjw" target="_blank" class="social-btn-youtube" title="YouTube"><i class="fab fa-youtube" aria-hidden="true"></i><span class="sr-only">YouTube</span> </a><a href="https://www.linkedin.com/company/tapsell" target="_blank" class="social-btn-linkedin" title="LinkedIn"><i class="fab fa-linkedin" aria-hidden="true"></i><span class="sr-only">LinkedIn</span></a></div></div></div></div><div class="col-auto"><img src="/assets/images/logos/logo-dark-background.png" class="logo-small margin-top-small" alt="Tapsell"></div></div><div class="row"><div class="col-md-12"><hr class="dark m-0"><div class="footer-nav-container"><nav class="footer-nav"><ul class="footer-nav-list"><li><a href="https://docs.tapsell.ir/terms-and-condition/">قوانین و ضوابط</a></li><li><a href="https://docs.tapsell.ir/faq/publisher/">سوالات متداول</a></li><li><a href="https://docs.tapsell.ir/faq/advertiser/">سوالات متداول تبلیغ‌دهندگان</a></li><li><a href="https://docs.tapsell.ir/paying-income/">پرداخت درآمد</a></li><li><a href="mailto:info@tapsell.ir" target="_blank"><span>تماس با ما</span></a></li></ul></nav></div><div class="margin-top-small margin-bottom-small text-center-small-float-right"><span>طراحی و توسعه توسط تپسل - ایران 2025.</span></div></div></div></div></footer><script src="/assets/bundle.js?v=1752915253&_v=1752915254286" type="text/javascript"></script></main></body></html>